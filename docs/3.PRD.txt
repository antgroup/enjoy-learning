# 快乐学习软件产品需求文档 (PRD)

## 产品概述
"快乐学习"是一款旨在将学习过程游戏化、可视化的教育软件，通过多种直观的知识呈现方式，让用户在探索和成长的过程中体验学习的乐趣，培养持续学习的兴趣与习惯。

## 产品目标
1. 打破传统学习的枯燥感，让学习成为一种令人沉浸的体验
2. 通过多种可视化形式，让知识的获取与积累变得直观可见
3. 激发用户的学习动力，形成持续学习的良性循环

## 核心功能

### 1. 知识地图
#### 功能描述
- 以地理地图的形式展示不同学科、领域的知识体系
- 用户可以在地图上看到不同的"知识地区"，如数学王国、文学城、科学谷等
- 每个地区包含多个知识点，呈现为地标或建筑物
- 初始状态下大部分区域为灰色或模糊状态

#### 用户交互
- 用户完成学习任务后，相应的知识点会被"点亮"或"解锁"
- 点亮的区域会变得色彩鲜明，并显示详细信息
- 用户可以通过点击已解锁的知识点查看相关内容
- 提供推荐路径，指引用户按照合理顺序学习

#### 技术要求
- 支持地图缩放、平移等操作
- 根据用户学习进度动态更新地图状态
- 地图应具有美观的视觉设计，提供探索的乐趣

### 2. 知识树
#### 功能描述
- 以树的形式可视化用户的知识结构和学习进度
- 树干代表主要知识领域或学科分类
- 树枝代表知识子类别
- 树叶代表具体知识点内容
- 根据用户学习进度，树的形态会发生变化

#### 用户交互
- 用户可以选择培养哪个方向的"知识树"
- 学习特定内容后，相应的树枝会生长，树叶会增加
- 点击树的不同部分可查看详细信息和学习建议
- 提供季节变化等视觉效果，反映学习的时间周期

#### 技术要求
- 动态生成树的形态和细节
- 支持自定义树的种类、外观
- 可导出分享自己的知识树

### 3. 知识球
#### 功能描述
- 以三维球体形式展示整体知识宇宙
- 球体表面分布着不同的知识领域
- 支持无限缩放功能，从宏观到微观
- 形成知识的层级递进式展示

#### 用户交互
- 用户可以旋转知识球，查看不同领域
- 点击特定区域可以放大，深入了解子领域
- 继续放大可以看到更细节的知识点
- 类似于从宇宙→星系→行星→地表的缩放体验

#### 技术要求
- 3D渲染技术，支持流畅的缩放和旋转
- 分层级展示知识内容，保持视觉连贯性
- 优化性能，确保在不同设备上的流畅体验

## 用户激励机制
- 成就系统：解锁特定区域、完成知识树的特定部分可获得成就徽章
- 进度可视化：直观展示学习进度和知识覆盖范围
- 社交分享：可与朋友分享自己的知识地图、知识树或知识球
- 挑战任务：定期推出学习挑战，激励持续学习

### 智慧值系统
#### 功能描述
- 用户完成学习任务、解锁知识点后获得相应智慧值
- 智慧值会按照艾宾浩斯记忆曲线规律随时间自然衰减
- 记忆曲线遵循：首次学习后20分钟复习，1天后复习，2天后复习，4天后复习，7天后复习，15天后复习
- 每次复习会重置该知识点的衰减周期并增加记忆稳定性
- 不同难度和重要性的知识点赋予不同基础智慧值

#### 用户交互
- 智慧值总量以醒目方式显示在用户界面
- 提供"记忆健康度"仪表盘，显示知识保留状况
- 设置智能提醒，提示用户该复习哪些即将衰减的知识点
- 复习成功后有明显的正反馈（如智慧值恢复动画）

#### 技术要求
- 构建艾宾浩斯记忆曲线算法模型
- 每个知识点独立计算衰减周期
- 后台定时任务定期计算用户智慧值变化
- 提供API追踪和预测智慧值变化

#### 智慧值恢复机制
- 完成趣味性复习活动后，相关知识点的智慧值得到恢复或提升
- 不同类型复习活动的智慧值恢复效果各异：
  - 简单复习：恢复至70%基础智慧值
  - 应用型复习：恢复至100%基础智慧值
  - 创造性复习：可提升至120%基础智慧值
- 成功率与复习质量挂钩，提供智能评分系统
- 视觉效果直观展示智慧值恢复过程，增强成就感

## 趣味性综合复习系统
"快乐学习"软件不仅仅是通过重复记忆来巩固知识，而是通过多种创新的趣味性方式，帮助用户综合应用所学内容，提高学习效果和体验。

### 知识融合游戏
#### 功能描述
- 基于用户已学习的知识点自动生成各类趣味性游戏
- 算法会分析用户的知识结构，选择最需要复习的内容融入游戏
- 跨领域知识联系，帮助用户建立知识间的关联
- 游戏难度和复杂度随用户等级提升而提高

#### 游戏类型示例
- **知识拼图**：将碎片化知识组合成完整概念或流程
- **概念连线**：找出不同知识点之间的关联
- **知识迷宫**：在迷宫中搜集知识点，回答相关问题以通关
- **学科融合解谜**：需要综合应用多个学科知识解决复杂问题
- **知识卡牌**：收集知识卡牌并组合使用，对战AI或其他用户

#### 技术要求
- 游戏生成引擎，能基于知识点自动创建游戏内容
- 内容适应性算法，根据用户学习情况调整游戏难度
- 游戏进度与智慧值/成长值系统对接
- 支持多平台游戏体验（移动端、PC端）

### 情境应用挑战
#### 功能描述
- 创建模拟真实场景的应用情境，要求用户在其中应用所学知识
- 场景内容与用户学习领域相关，并具有实际应用价值
- 提供开放式问题，允许用户以不同方式解决
- 鼓励创造性思维和知识的实际运用

#### 情境类型示例
- **虚拟项目**：如建筑设计、科学实验、文学创作等
- **问题解决**：如商业案例分析、工程故障排除、历史事件分析
- **角色扮演**：扮演相关领域的专业人士解决问题
- **模拟演练**：医学诊断模拟、法律案例辩护、教学情境等
- **世界模拟**：在虚拟世界中应用所学知识改变环境

#### 技术要求
- 情境生成系统，能创建丰富多样的应用场景
- 自然语言处理能力，评估用户开放式答案
- 情境适配算法，根据用户知识结构推荐合适挑战
- 进度追踪与反馈系统

### 知识竞技场
#### 功能描述
- 提供多样化的复习竞赛模式，包括个人挑战和多人协作
- 定期更新赛事和主题，保持新鲜感
- 设置排行榜和奖励机制，增强参与动力
- 结合社交元素，允许用户组队参与挑战

#### 竞赛模式示例
- **知识闯关**：限时通过一系列递进难度的关卡
- **专题擂台**：特定主题的深度挑战
- **团队协作**：多名用户组队完成复杂任务，各自发挥所长
- **辩论赛**：针对开放性话题进行有理有据的辩论
- **创意展示**：展示对某一知识领域的创新应用

#### 技术要求
- 实时对战系统支持
- 匹配算法，确保公平竞争
- 评分系统，综合考量速度、准确性和创造力
- 安全公平的竞赛环境维护

### 个性化推荐系统
#### 功能描述
- 基于用户学习历史、智慧值衰减情况和兴趣偏好智能推荐复习内容
- 分析用户学习模式，推荐最适合的复习方式
- 根据用户时间安排，建议最佳复习时间点
- 动态调整推荐策略，避免用户疲劳

#### 技术要求
- 用户画像构建
- 机器学习算法优化推荐效果
- A/B测试系统，不断改进推荐质量
- 隐私保护机制，确保用户数据安全

#### 智慧值与复习活动关联
- 系统追踪每个知识点的智慧值衰减情况
- 智能分析哪些知识点需要优先复习
- 根据知识点特性推荐最适合的复习方式
- 复习活动完成后，自动更新相关知识点的智慧值
- 提供智慧值恢复预测，帮助用户制定学习计划

## 社交与共享系统
"快乐学习"不仅是个人学习工具，也是连接志同道合学习者的社交平台。通过好友机制和知识共享功能，用户可以在社区中分享成长，相互激励。

### 好友系统
#### 功能描述
- 用户可以添加、管理学习伙伴
- 查看好友的学习进度、成就和活动
- 建立学习小组，促进协作学习
- 隐私设置允许用户控制信息分享范围

#### 用户交互
- 好友搜索与推荐功能
- 好友活动动态流
- 即时通讯功能，讨论学习内容
- 学习伙伴匹配系统，基于共同学习兴趣

#### 技术要求
- 安全的用户关系管理系统
- 实时社交动态推送
- 高效的用户查找和匹配算法
- 防骚扰措施和举报机制

### 知识可视化共享
#### 功能描述
- 在知识地图、知识树和知识球上显示好友学习痕迹
- 用户可以看到哪些好友已点亮相同知识点
- 知识节点上的社交标记，如好友头像、数量指示器
- 提供社区热点图，展示最受欢迎的学习内容

#### 实现形式
- **知识球社交层**：在知识球界面添加社交图层，显示好友头像或数量
- **知识地图足迹**：在地图上显示好友探索轨迹和签到
- **共享树林**：将好友的知识树集合形成虚拟树林，展示社区学习生态
- **实时动态**：显示好友最近点亮的知识点，形成学习动态流

#### 用户交互
- 点击社交标记查看详细好友列表
- 与特定知识点相关的好友讨论区
- 发起围绕特定知识点的学习挑战邀请
- 分享个人学习心得和资源到知识点

### 学习内容共享
#### 功能描述
- 用户可以创建和分享自己的学习笔记、思维导图
- 上传补充学习资料，丰富知识库
- 分享个人的学习方法和技巧
- 对他人分享的内容进行评价和讨论

#### 共享形式
- 知识点笔记与总结
- 学习路径推荐
- 相关资源链接
- 学习方法心得
- 趣味记忆技巧

#### 质量控制
- 用户评分系统
- 内容审核机制
- 优质内容推荐算法
- 反馈与举报功能

### 成就与激励
#### 功能描述
- 社交成就体系，奖励积极分享和帮助他人的行为
- 导师角色，高级用户可指导新用户
- 知识贡献榜，鼓励高质量内容创作
- 小组挑战，促进团队协作学习

#### 技术要求
- 社交贡献度计算系统
- 权限管理和角色分配
- 小组活动组织工具
- 成就展示和分享功能

## 每日学习记录系统
"快乐学习"软件提供全面的学习记录功能，帮助用户追踪和回顾学习历程，形成系统化的个人知识库，并通过数据分析优化学习方法。

### 学习活动记录
#### 功能描述
- 自动记录用户在平台上的所有学习活动
- 包括课程学习时长、完成的知识点、参与的复习游戏等
- 统计每日、每周和每月的学习数据
- 生成学习热力图，展示学习强度分布

#### 记录内容
- 学习时间段与持续时长
- 学习的知识点和完成度
- 智慧值和成长值变化记录
- 复习活动及其有效性评分
- 挑战成就和获得奖励

#### 用户交互
- 每日学习摘要推送
- 学习日历视图，一目了然学习情况
- 支持回顾特定日期的学习内容
- 设置学习目标，自动追踪达成情况

### 笔记与学习资料管理
#### 功能描述
- 支持多种格式的学习笔记创建和导入
- 与知识结构关联，形成有组织的个人知识库
- 智能分类和标签系统，便于后续检索
- 跨设备同步，随时随地访问

#### 笔记类型
- 文字笔记：支持富文本格式和Markdown
- 手写笔记：支持手写输入和OCR转换
- 音频笔记：语音记录和自动转文字
- 视觉笔记：思维导图、概念图谱
- 外部导入：支持PDF、Word、图片等格式

#### 组织方式
- 按知识点自动关联整理
- 支持自定义文件夹和结构
- 标签系统和全文检索
- 重要度和复习频率标记
- 版本历史记录，追踪笔记演变

### 学习数据分析与洞察
#### 功能描述
- 基于用户学习记录进行深度数据分析
- 识别个人最佳学习时间和学习模式
- 发现知识盲区和薄弱环节
- 提供个性化的学习优化建议

#### 分析维度
- 时间效率分析：识别高效学习的时间段
- 知识覆盖分析：展示已学知识的分布和漏洞
- 记忆曲线分析：追踪知识保留率变化
- 学习模式分析：发现最适合的学习方法
- 对比分析：与历史自我或匿名群体对比

#### 用户洞察报告
- 每日微报告：简要总结当日学习
- 每周学习报告：详细分析和反思
- 月度学习评估：长期趋势和进步分析
- 个性化学习建议：基于AI分析的学习优化方案

### 反思与目标设定
#### 功能描述
- 引导用户定期反思学习过程与效果
- 设置短期、中期和长期学习目标
- 追踪目标完成情况，及时调整
- 记录学习历程中的关键突破和心得

#### 反思模板
- 每日简单回顾：今日所学、收获、困惑
- 每周深度反思：学习方法有效性、知识连接
- 学习障碍分析：针对困难点的思考和突破策略
- 学习成就庆祝：阶段性成就记录和分享

#### 目标管理
- 智能目标推荐：基于学习历史的合理建议
- 目标分解：将长期目标拆分为可执行步骤
- 进度可视化：直观展示目标完成情况
- 适应性调整：根据实际情况智能调整目标难度

### 技术要求
- 高性能数据存储系统，支持大量学习记录
- 跨平台同步机制，确保数据一致性
- 高级文本编辑器，支持丰富的笔记功能
- 数据分析算法，提取有价值的学习模式
- 隐私保护措施，保障用户学习数据安全
- 导入导出API，支持与其他工具集成

## 技术架构
- 前端：响应式设计，支持多种设备
- 后端：用户数据管理，学习进度追踪
- 数据库：知识点结构化存储，用户进度记录
- 算法：个性化学习路径推荐，进度适应性调整

## 未来拓展方向
- 多人协作：支持多用户共同探索知识地图
- AR/VR支持：提供更沉浸式的知识探索体验
- AI辅助：根据用户学习习惯智能推荐内容
- 内容创作：允许教育者创建自定义知识结构


# 需求变更/说明记录
1. 知识融合游戏本期暂不开发
2. 本期不做知识树的删除、分享、导出功能，本期暂时不做提供学习建议的功能，本期暂时不做解锁知识树知识节点的功能
3. 知识树中暂时不做分类列表、学习进度更新
4. 支持用户上传学习笔记到自己的笔记本中，暂时只支持txt文本上传或者用户纯文本输入，上传笔记后需要异步请求大模型，通过大模型接口提炼用户笔记中的纲要及知识点，以json格式返回结果，并存储
5. 知识树需要增加关联学习笔记的功能，用户在知识树页面给知识树"灌输"知识(即选择笔记)后，服务端获取对应的笔记知识点关联到知识树上，返回更新后的知识树数据
6. 关于智慧值基础模型，本期不需要考虑用户的学习时长、答题记录、学习行为数据等，智慧值模型中不需要提供建议、学习方向等，本期暂不实现个性化参数相关逻辑，本期暂不涉及奖励参数
7. 不需要单独的注册接口，在登录接口中判断是否能查询到用户信息，如果没有就进行注册并返回登录token


